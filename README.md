# Домашнее задание к занятию 14 «Средство визуализации Grafana»

## Обязательные задания

1. Запустил связку prometheus-grafan из папки help.
2. Авторизовался в системе.
3. Подключил в качестве источника данных prometheus.
4. 
5. ![](https://github.com/Granit16/monitoring_03/blob/main/grafana.png)

   
6. Предложу использовать систему перехватчик-ошибок **Sentry**.

   
7. В представленной формуле не учтены коды 3xx, исправленная формула выглядит так: ``(summ_2xx_requests + summ_3xx_requests)/(summ_all_requests)``

   
8.

### Push-модель
**Плюсы:**

Упрощение репликации данных в разные системы мониторинга или их резервные копии (на клиенте настраивается конечная точка отправки или набор таких точек);
Более гибкая настройка отправки пакетов данных с метриками (на каждом клиенте задается объем данных и частоту отправки);
UDP является менее затратным способом передачи данных, вследствии чего может вырасти производительность сбора метрик (обратной стороной медали является гарантия доставки пакетов).

**Минусы:**

Нет гарантии опроса только тех агентов, которые настроены в системе мониторинга;
Не получится настроить безопасное взаимодействие агентов с сервером через единый Proxy;
Сложнее собирать логи с агентов.

### Pull-модель
**Плюсы:**

Легче контролировать подлинность данных (гарантия опроса только тех агентов, которые настроены в системе мониторинга);
Можно настроить единый proxy-server до всех агентов с TLS (таким образом мы можем разнести систему мониторинга и агенты, с гарантией безопасности их взаимодействия);
Упрощенная отладка получения данных с агентов (так как данные запрашиваются посредством HTTP, можно самостоятельно запрашивать эти данные, используя ПО вне системы мониторинга).

**Минусы:**

Сложно организовать репликацию данных между разными системами мониторинга или их резервными копиями;
Менее гибкая настройка отправки пакетов данных с метриками. Например, в Zabbix можно настроить частоту сбора метрик в рамках целого элемента данных, с которым может быть связано много конечных узлов. Если надо на каждом узле указать индивидуальную частоту, придется создавать новый элемент данных и шаблон для каждого узла;
Сетевое взаимодействие по протоколу TCP: надежно, но не так быстро.

    
6. Модели систем мониторинга:
   
| Система  | Модель |
| ------------- | ------------- |
| Prometheus  |  pull  |
| TICK        | push  |
| Zabbix        | push & pull  |
| VictoriaMetrics        | push & pull  |
| Nagios        | pull  |
  
  
   
  
7. Склонировал репозиторий и запустил TICK-стэк:
   
![](https://github.com/Granit16/monitoring_01/blob/main/chronograf_web.png)

8. Веб-интерфейс ПО chronograf:
   
![](https://github.com/Granit16/monitoring_01/blob/main/chronograf_cpu_utilization.png)

   
9. Метрики, связанные с docker

![](https://github.com/Granit16/monitoring_01/blob/main/chronograf_docker.png)
 
